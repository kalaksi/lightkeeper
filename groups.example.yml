groups:
  # This is nothing special, just a group called "defaults".
  defaults:
    connectors:
      ssh: {}
    monitors:
      tcp-connect:
        is_critical: true

  # Monitors and commands for Linux hosts. You usually want at least this for your hosts.
  linux:
    monitors:
      os: {}
      kernel: {}
      uptime: {}
      load: {}
      ram: {}
      filesystem: {}
      interface:
        settings:
          ignored_interfaces: "br-,docker,lo,veth"
      network-dns: {}
      network-routes: {}
      package: {}
      who: {}
      storage-lvm-logical-volume: {}
      storage-lvm-volume-group: {}
      storage-lvm-physical-volume: {}
      storage-cryptsetup: {}
    commands:
      logs: {}
      linux-shell: {}
      linux-filebrowser-ls: {}
      shutdown: {}
      reboot: {}
      linux-packages-clean: {}
      linux-packages-update: {}
      linux-packages-update-all: {}
      linux-packages-refresh: {}
      linux-packages-logs: {}
      storage-file-space-usage: {}
      storage-lvm-snapshot: {}
      storage-lvm-lvresize: {}
      storage-lvm-lvremove: {}
      storage-lvm-lvrefresh: {}
      network-socket-listen: {}
      network-socket-tcp: {}

  nixos:
    monitors:
      nixos-rebuild-generations: {}
    commands:
      nixos-channel-update: {}
      nixos-rebuild-dryrun: {}
      nixos-rebuild-switch: {}
      nixos-rebuild-boot: {}
      nixos-rebuild-rollback: {}
      nixos-collectgarbage: {}

  # Monitors and commands for Docker.
  docker:
    monitors:
      docker-containers: {}
      docker-images: {}
      # Disabled. It isn't very useful to track updates to tags.
      # Wasn't displayed correctly in the UI either.
      # TODO: remove later when sure this is not needed.
      # docker-image-updates: {}
    commands:
      docker-image-prune: {}
      docker-restart: {}
      docker-inspect: {}
      docker-shell: {}
      docker-image-remove: {}
      docker-image-remote-tags: {}

  # Monitors and commands for Docker-compose.
  docker-compose:
    monitors:
      docker-compose: {}
    commands:
      docker-compose-edit: {}
      docker-compose-pull: {}
      docker-compose-up: {}
      docker-compose-start: {}
      docker-compose-stop: {}
      docker-compose-restart: {}
      docker-compose-shell: {}
      docker-compose-logs: {}
      docker-compose-build: {}

  # Monitors and commands for Podman.
  podman:
    monitors:
      podman-containers: {}
      podman-images: {}
    commands:
      podman-image-prune: {}
      podman-restart: {}
      podman-inspect: {}
      podman-shell: {}
      podman-image-remove: {}
      podman-image-remote-tags: {}

  # Monitors and commands for Podman-compose.
  podman-compose:
    monitors:
      podman-compose: {}
    commands:
      podman-compose-edit: {}
      podman-compose-pull: {}
      podman-compose-up: {}
      podman-compose-start: {}
      podman-compose-stop: {}
      podman-compose-restart: {}
      podman-compose-shell: {}
      podman-compose-logs: {}
      podman-compose-build: {}

  # Monitors and commands for SystemD services.
  systemd-service:
    monitors:
      systemd-service:
        settings:
          included_services: "cron.,collectd.,dbus.,ntp.,chrony.,systemd-journald.,docker.,ufw.,rsyslog.,nullmailer.,ssh."
    commands:
      systemd-service-start: {}
      systemd-service-stop: {}
      systemd-service-restart: {}
      systemd-service-mask: {}
      systemd-service-unmask: {}
      systemd-service-logs: {}

